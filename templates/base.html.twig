<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>
			{% block title %}
				Welcome!
			{% endblock %}
		</title>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.css">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">


		{% block stylesheets %}
			<style>
				body {
					background-color:#36393F;
					color: #323232;

					margin: 0;
					height: 100vh;

					/* display: flex; */
					align-items: center;
					justify-content: center;

					font-family: Helvetica neue, roboto;
				}

				.container {
					margin: 0 auto;
					min-height: 100vh;
					display: flex;
					justify-content: center;
					align-items: center;
					text-align: center;
					
				}

				a {
					text-decoration: none;
					color: white;
				}

				.title {
					font-family: "Quicksand", "Source Sans Pro", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
					display: block;
					font-weight: 300;
					font-size: 30px;
					color: #fff;		
					letter-spacing: 1px;
					margin-top: 0;
					margin-bottom: 30px;

				}

				.lyrics {
					font-family: "Quicksand", "Source Sans Pro", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
					display: block;
					font-weight: 300;
					font-size: 25px;
					color: #fff;
					letter-spacing: 1px;
					margin-bottom: 15px;
					
				}

				.links {
					font-family: "Quicksand", "Source Sans Pro", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
					padding-top: 30px;
					padding-bottom: 30px;
				}

				.spotify {
					padding-bottom: 30px;
				}

				html {
					font-family: "Source Sans Pro", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
					font-size: 16px;
					word-spacing: 1px;
					-ms-text-size-adjust: 100%;
					-webkit-text-size-adjust: 100%;
					-moz-osx-font-smoothing: grayscale;
					-webkit-font-smoothing: antialiased;
					box-sizing: border-box;
				}

				*,
				*::before,
				*::after {
					box-sizing: border-box;
					margin: 0;
				}

				.button--green {
					font-family: "Quicksand", "Source Sans Pro", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
					display: inline-block;
					background-color:#1D1D1A;
					border-radius: 30px;
					border: 3px solid #3b8070;
					color: #3b8070;
					text-decoration: none;
					padding: 10px 30px;
				}

				.button--green--validate {
					font-family: "Quicksand", "Source Sans Pro", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
					display: inline-block;
					border-radius: 30px;
					border: 3px solid #3b8070;
					color: #white;
					background-color: #3b8070;
					text-decoration: none;
					padding: 10px 30px;
				}

				.button--green:hover {
					color: #fff;
					background-color: #3b8070;
				}

				.button--red {
					font-family: "Quicksand", "Source Sans Pro", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
					display: inline-block;
					background-color:#1D1D1A;
					border-radius: 30px;
					border: 1px solid red;
					color: red;
					text-decoration: none;
					padding: 10px 30px;
				}

				.button--red:hover {
					color: #fff;
					background-color: red;
				}

				.button-box {
					padding-top: 30px;
				}
			</style>

		{% endblock %}
	</head>

	<nav class="navbar navbar-expand-lg navbar-light bg-success">
		<div class="container-fluid">
			<a class="navbar-brand" href="#">I Can Relate</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="navbar-nav">
					<li class="nav-item">
						<a class="nav-link active" href="{{path('homepage')}}" aria-current="page" href="#">Home</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="{{path('favoris')}}">Favoris</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="{{path('about')}}">About</a>
					</li>
					<li class="nav-item">
						{% if not is_granted('ROLE_USER') %}
							<a href="/login" class="nav-link">Connexion</a>
						{% else %}
							<a href="/logout" class="nav-link">DÃ©connexion</a>
						{% endif %}
					</li>
					{% if is_granted('ROLE_ADMIN') %}
					<li class="nav-item">
						<a class="nav-link" href="{{path('admin')}}">Admin dashboard</a>
					</li>
					{% endif %}
				</ul>
			</div>
		</div>
	</nav>
	{% block body %}
	{% endblock %}
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<script>
	function onClickBtnLike(event) {
	event.preventDefault();

	const url = this.href;
	const spanCount = this.querySelector('span.js-like');
	const icone = this.querySelector('i');

	axios.get(url).then(function (response) {
	const likes = response.data;
	console.log(likes);
	spanCount.textContent = likes;
	getNewQuote();

	if (icone.classList.contains('fas')) 
	icone.classList.replace('fas', 'far');
	else 
	icone.classList.replace('far', 'fas');



	}).catch(function (error) {
	if (error.response.status == 403) {
	window.alert('vous netes pas connecte');

	}
	});

	}
document.querySelectorAll('a.js-likes').forEach(function (link) {
link.addEventListener('click', onClickBtnLike);
})
</script>
{% block javascripts %}

{% endblock %}
</html>
